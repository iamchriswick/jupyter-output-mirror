{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "compile-for-debug",
      "type": "shell",
      "command": "node node_modules/typescript/bin/tsc -p .",
      "problemMatcher": "$tsc",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      },
      "options": {
        "cwd": "${workspaceFolder}"
      }
    },
    {
      "label": "npm: compile",
      "type": "shell",
      "command": "npm run compile",
      "problemMatcher": "$tsc",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      },
      "options": {
        "cwd": "${workspaceFolder}"
      }
    },
    {
      "label": "nuke:safe",
      "type": "shell",
      "command": "git clean -ffd -X -e .vscode && npm ci",
      "problemMatcher": [],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "nuke:full",
      "type": "shell",
      "command": "git clean -ffd -x -e .vscode && node -e \"try{require('fs').unlinkSync('package-lock.json')}catch{}\" && npm install --no-audit --no-fund",
      "problemMatcher": [],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "nuke:preview",
      "type": "shell",
      "command": "git clean -ffd -X -e .vscode -n",
      "problemMatcher": [],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "bootstrap",
      "type": "shell",
      "command": "if [ -f package-lock.json ]; then npm ci; else npm install; fi; npm run compile",
      "windows": {
        "command": "powershell -NoProfile -Command \"if (Test-Path package-lock.json) { npm ci } else { npm install }; npm run compile\""
      },
      "problemMatcher": [
        "$tsc"
      ],
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "rebuild",
      "type": "shell",
      "command": "npm ci || npm install; npm run compile",
      "problemMatcher": [
        "$tsc"
      ],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "nuke-rebuild:safe",
      "dependsOn": [
        "nuke:safe",
        "rebuild"
      ],
      "dependsOrder": "sequence",
      "problemMatcher": [],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    },
    {
      "label": "nuke-rebuild:full",
      "dependsOn": [
        "nuke:full",
        "rebuild"
      ],
      "dependsOrder": "sequence",
      "problemMatcher": [],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      }
    }
  ]
}
